\documentclass{article}

\usepackage{amsmath}
\usepackage{amssymb}
\usepackage[backend=biber,style=alphabetic]{biblatex}
\usepackage{mathtools}
\usepackage{bussproofs}
\usepackage{cmll}
\usepackage{csquotes}
\usepackage{enumitem}
\usepackage{tikz-cd}
\usepackage{keytheorems}
\usepackage{todonotes}
\usepackage{xcolor}
\usepackage{hyperref}

\hypersetup{
  colorlinks=true,
  % linkcolor=cyan,
}

\NewDocumentCommand{\TypeTopology}{m O{}}{\href{https://www.cs.bham.ac.uk/~mhe/TypeTopology/#1.html\IfValueT{#2}{\##2}}{\texttt{#1}}}

\newkeytheoremstyle{boxed}{
  tcolorbox-no-titlebar={sharp corners=all,boxrule=1pt,colback=black!8},
}
\newkeytheoremstyle{boxed-definition}{
  inherit-style=boxed,
  % qed=$\lrcorner$,
  numbered=false,
}
\newkeytheoremstyle{marked-definition}{
  inherit-style=definition,
  qed=$\lrcorner$,
}
\newkeytheoremstyle{construction}{
  inherit-style=definition,
  headfont={\itshape},
  qed=$\lrcorner$,
  numbered=false,
}
\newkeytheoremstyle{todo}{
  tcolorbox-no-titlebar={sharp corners=all,boxrule=1pt,colback=orange!10},
  numbered=false,
  headfont={\scshape},
}
\newkeytheorem{todo-block}[style=todo,name={Todo}]
\newkeytheorem{theorem}[style=plain,parent=section]
\newkeytheorem{
  proposition,
  lemma,
  corollary,
  problem,
  conjecture,
}[
  style=plain,
  sibling=theorem,
]
\newkeytheorem{definition}[style=marked-definition,sibling=theorem]
\newkeytheorem{construction}[style=construction,sibling=theorem]
\newkeytheorem{remark}[style=remark,sibling=theorem]
\newkeytheorem{example}[style=example,sibling=theorem]

% A custom tikzcd arrow tip, a lollipop (‚ä∏).
% https://tex.stackexchange.com/a/730357
\tikzset{
  % See section 4.4 ("Glyph arrow tips") of the tikzcd manual.
  % multimap/.tip={Glyph[glyph math command=circ, glyph length=1.03ex, glyph shorten=-0.2ex]},
  multimap/.tip={Circle[open]},
}

\colorlet{Highlight}{purple!80!gray}
\NewDocumentCommand{\Highlight}{m}{\textcolor{Highlight}{#1}}

\title{Derivates of Containers without Decidable Equality}
\author{Philipp Joram}
\date{\today}

\addbibresource{bibliography.bib}

% https://damaru2.github.io/general/notations_with_links/
% \NewDocumentCommand{\newlink}{m m}{\protect\hyperlink{#1}{#2}}


\DeclareMathSymbol{\shortminus}{\mathbin}{AMSa}{"39}

\newcommand*{\Op}[1]{\mathsf{#1}}
\DeclareMathOperator{\Type}{\mathsf{Type}}
\DeclareMathOperator{\W}{\mathsf{W}}
\DeclareMathOperator{\FinSet}{\Op{FinSet}}
\DeclareMathOperator{\El}{\Op{El}}
\DeclareMathOperator{\Sup}{\mathsf{sup}}
\DeclareMathOperator{\Dec}{\mathsf{Dec}}
\DeclareMathOperator{\DefEq}{\mathrel{\coloneq}}
\DeclareMathOperator{\JudgeEq}{\mathrel{\doteq}}
\NewDocumentCommand{\Inv}{}{{\shortminus 1}}
% \NewDocumentCommand{\Blank}{}{\shortminus}
\def\blankskip{0mu minus 1fill}
\NewDocumentCommand{\Blank}{}{{\mskip\blankskip\mathunderscore\mskip\blankskip}}

\DeclareMathOperator{\Isolate}{\Op{isolate}}
\DeclareMathOperator{\Replace}{\Op{replace}}
\DeclareMathOperator{\SigmaRemove}{\Op{\Sigma-remove}}
\DeclareMathOperator{\SigmaIsolate}{\Op{\Sigma-isolate}}

\newcommand*{\Isolated}[1]{#1^{\circ}}
\DeclareMathOperator{\Graft}{\Op{graft}}
\DeclarePairedDelimiterXPP{\GraftSyntaxX}[3]%
  {}%
  {[}%
  {]}%
  {_{#3}}%
  {#2 \delimsize\vert #1}
\DeclarePairedDelimiterX{\GraftSyntax}[2]{[}{]}{#2 \delimsize\vert #1}

\newcommand*{\MkCont}[2]{#1\mathbin{\triangleleft}#2}
\DeclareMathOperator{\Sh}{\mathsf{Sh}}
\DeclareMathOperator{\Ps}{\mathsf{Ps}}

\NewDocumentCommand{\CTimes}{}{\mathbin{\times}}
\NewDocumentCommand{\CPlus}{}{\mathbin{+}}
\NewDocumentCommand{\CConst}{}{\Op{k}}
\DeclarePairedDelimiterXPP{\Wk}[1]%
  {} % pre-code
  {\langle} % left
  {\rangle} % right
  {^{\uparrow}} % post-code
  {#1} % body
\newcommand*{\Subst}[2]{#1[#2]}

\NewDocumentCommand{\SimMultiMap}{}{%
  \mathrel{%
    \vbox{%
      \offinterlineskip%
      \mathsurround=0pt
      \ialign{%
        \hfil##\hfil\cr
        \normalfont\scalebox{0.9}{\kern-.33ex{$\sim$}}\cr
        \noalign{\kern-.25ex}
        $\scriptstyle\multimap$\cr%
      }%
    }%
  }%
}

\newcommand*{\Cart}[2]{#1\mathrel{\multimap}#2}
\NewDocumentCommand{\CartEquiv}{}{\multimapboth}
\newcommand*{\CartIso}[2]{#1 \mathrel{\CartEquiv} #2}

\DeclareMathOperator{\Cont}{\mathsf{Cont}}
\NewDocumentCommand{\ContCart}{}{\operatorname{\Cont}^{{\scriptscriptstyle\multimap}}}

\NewDocumentCommand{\Der}{}{\partial}
\NewDocumentCommand{\Id}{}{\mathsf{Id}}
\NewDocumentCommand{\Proj}{m}{\pi_{#1}}
\DeclareMathOperator{\Chain}{\Op{chain}}
\DeclareMathOperator{\In}{\Op{in}}
\DeclareMathOperator{\MuRule}{\Op{\mu-rule}}

\DeclareMathOperator{\Inl}{\mathsf{inl}}
\DeclareMathOperator{\Inr}{\mathsf{inr}}

\NewDocumentCommand{\Maybe}{m}{#1 \CTimes \Id}
\DeclareMathOperator{\Nothing}{\mathsf{nothing}}
\DeclareMathOperator{\Just}{\mathsf{just}}

\makeatletter
\newcommand{\proofsubparagraph}{%
  \@startsection{subparagraph}%
  {5}%
  {\z@}%
  {3.25ex \@plus1ex \@minus .2ex}%
  {-1em}%
  {\sffamily\normalsize\bfseries}%
}
\makeatother

\begin{document}

\maketitle

\begin{abstract}
  We introduce a derivative operation for containers whose positions lack decidable equality.
\end{abstract}

\input{introduction}
\input{isolated-points}
\input{derivatives}
\input{conclusion}

\printbibliography

\end{document}
